(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{34:function(e,t,n){e.exports=n(63)},39:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(31),l=n.n(u),s=n(11),o=n(3),i=n(4),c=n(7),m=n(6),p=(n(39),n(1)),g=n(14),h=n.n(g),d=n(18),v=n(32),b=n.n(v),f=new(function(){function e(){Object(o.a)(this,e),this.auth=b.a.create({baseURL:"https://oreka-journal.herokuapp.com",withCredentials:!0})}return Object(i.a)(e,[{key:"signup",value:function(e){var t=e.email,n=e.password,a=e.username,r=e.usersurname,u=e.age,l=e.userImgUrl;return this.auth.post("/auth/signup",{email:t,password:n,username:a,usersurname:r,age:u,userImgUrl:l}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.email,n=e.password;return this.auth.post("/auth/login",{email:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),E=r.a.createContext(),j=E.Consumer,O=E.Provider,y=function(e){return function(t){Object(c.a)(a,t);var n=Object(m.a)(a);function a(){return Object(o.a)(this,a),n.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(j,null,(function(n){var a=n.login,u=n.signup,l=n.user,s=n.logout,o=n.isLoggedin;return r.a.createElement(e,Object.assign({login:a,signup:u,user:l,logout:s,isLoggedin:o},t.props))}))}}]),a}(a.Component)},w=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedin:!1,user:null,isLoading:!0},e.signup=function(t){var n=t.email,a=t.password,r=t.username,u=t.usersurname,l=t.age,s=t.userImgUrl;f.signup({email:n,password:a,username:r,usersurname:u,age:l,userImgUrl:s}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(t){var n=t.error;return e.setState({message:n.data.statusMessage})}))},e.login=function(){var t=Object(d.a)(h.a.mark((function t(n){var a,r,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.email,r=n.password,t.prev=1,t.next=4,f.login({email:a,password:r});case 4:u=t.sent,e.setState({isLoggedin:!0,user:u}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.logout=Object(d.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.logout();case 3:e.setState({isLoggedin:!1,user:null}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user,u=this.login,l=this.logout,s=this.signup;return t?r.a.createElement("div",null,"Loading..."):r.a.createElement(O,{value:{isLoggedin:n,user:a,login:u,logout:l,signup:s}},this.props.children)}}]),n}(a.Component),C=y(function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.logout,a=e.isLoggedin;return r.a.createElement("nav",{className:"navbar"},r.a.createElement(s.b,{to:"/",id:"home-btn"},r.a.createElement("h4",null,"Home")),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"navbar-user"},"username:",t.username),r.a.createElement("button",{className:"navbar-button",onClick:n},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/login"},r.a.createElement("button",{className:"navbar-button"},"Login")),r.a.createElement("br",null),r.a.createElement(s.b,{to:"/signup"},r.a.createElement("button",{className:"navbar-button"},"Sign Up"))))}}]),n}(a.Component));var L=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home Page"))},k=n(15),S=y(function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",username:"",usersurname:"",age:0,userImgUrl:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,a=n.email,r=n.password,u=n.username,l=n.usersurname,s=n.age,o=n.userImgUrl;e.props.signup({email:a,password:r,username:u,usersurname:l,age:s,userImgUrl:o})},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(k.a)({},a,r))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.username,u=e.usersurname,l=e.age;e.userImgUrl;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",name:"username",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"Surname:"),r.a.createElement("input",{type:"text",name:"usersurname",value:u,onChange:this.handleChange}),r.a.createElement("label",null,"Age:"),r.a.createElement("input",{type:"text",name:"age",value:l,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?"),r.a.createElement(s.b,{to:"/login"}," Login"))}}]),n}(a.Component)),x=y(function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,a=n.email,r=n.password;e.props.login({email:a,password:r})},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(k.a)({},a,r))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),n}(a.Component)),U=y(function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome ",this.props.user.username))}}]),n}(a.Component)),I=n(16),N=y((function(e){var t=e.component,n=e.isLoggedin,a=Object(I.a)(e,["component","isLoggedin"]);return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(p.a,{to:"/private"}):r.a.createElement(t,e)}}))})),F=y((function(e){var t=e.component,n=e.isLoggedin,a=Object(I.a)(e,["component","isLoggedin"]);return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))})),A=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(w,null,r.a.createElement("div",{className:"container"},r.a.createElement(C,null),r.a.createElement(p.d,null,r.a.createElement(N,{exact:!0,path:"/",component:L}),r.a.createElement(N,{exact:!0,path:"/signup",component:S}),r.a.createElement(N,{exact:!0,path:"/login",component:x}),r.a.createElement(F,{exact:!0,path:"/private",component:U}))))}}]),n}(a.Component);l.a.render(r.a.createElement(s.a,null,r.a.createElement(A,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.d4b6187a.chunk.js.map